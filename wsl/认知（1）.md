# WSL

## wsl是什么？

* 适用于 Linux 的 Windows 子系统 (WSL) 可让开发人员直接在 Windows 上按原样运行 GNU/Linux 环境（包括大多数命令行工具、实用工具和应用程序），且不会产生传统虚拟机或双启动设置开销

## 什么是wsl2

* WSL 2 是适用于 Linux 的 Windows 子系统体系结构的一个新版本，它支持适用于 Linux 的 Windows 子系统在 Windows 上运行 ELF64 Linux 二进制文件。 它的主要目标是**提高文件系统性能**，以及添加**完全的系统调用兼容性**。

* 这一新的体系结构改变了这些 Linux 二进制文件与Windows 和计算机硬件进行交互的方式，但仍然提供与 WSL 1（当前广泛可用的版本）中相同的用户体验。

* 可以并行运行 WSL 1 和 WSL 2 分发版。 WSL 2 使用全新的体系结构，该体系结构受益于运行真正的 Linux 内核。

## wsl1和wsl2的比较

[从 WSL 1 更新到 WSL 2](https://docs.microsoft.com/zh-cn/windows/wsl/install#upgrade-version-from-wsl-1-to-wsl-2)的主要原因包括：

* 提高文件系统性能

* 支持完全安全的系统调用兼容性

wsl2使用最新、最强大的虚拟化技术在轻量级实用工具虚拟机（VM）中运行linux内核

但是wsl2不是传统的VM体验

WSL 1 和 WSL 2 之间的主要区别在于，在托管 VM 内使用实际的 Linux 内核、支持完整的系统调用兼容性以及跨 Linux 和 Windows 操作系统的性能。

| 功能                                | WSL 1 | WSL 2 |
| --------------------------------- | ----- | ----- |
| Windows 和 Linux 之间的集成             | ✅     | ✅     |
| 启动时间短                             | ✅     | ✅     |
| 与传统虚拟机相比，占用的资源量少                  | ✅     | ✅     |
| 可以与当前版本的 VMware 和 VirtualBox 一起运行 | ✅     | ✅     |
| 托管 VM                             | ❌     | ✅     |
| 完整的 Linux 内核                      | ❌     | ✅     |
| 完全的系统调用兼容性                        | ❌     | ✅     |
| 跨 OS 文件系统的性能                      | ✅     | ❌     |

但跨 OS 文件系统的性能除外，对于这种情况，可通过将项目文件存储在与处理项目时运行的工具相同的操作系统上进行处理。
